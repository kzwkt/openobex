AC_PREREQ(2.60)
AC_INIT()

AM_INIT_AUTOMAKE(openobex, 1.5)
AM_CONFIG_HEADER(config.h)

m4_ifdef([AM_SILENT_RULES], [AM_SILENT_RULES([yes])])

AM_MAINTAINER_MODE

AC_INIT_OPENOBEX

COMPILER_FLAGS

AC_LANG_C

AC_PROG_CC
AC_PROG_CC_PIE
AC_PROG_INSTALL

m4_define([_LT_AC_TAGCONFIG], [])
m4_ifdef([AC_LIBTOOL_TAGS], [AC_LIBTOOL_TAGS([])])

AC_LIBTOOL_WIN32_DLL

AC_PROG_LIBTOOL

AC_VISIBILITY
AC_CANONICAL_HOST

AC_PATH_WIN32
AC_PATH_IRDA
AC_PATH_BLUETOOTH
AC_PATH_USB
AC_PATH_USB1

AC_ARG_OPENOBEX

AC_OUTPUT(Makefile
          include/Makefile include/openobex/Makefile
          lib/Makefile
          glib/Makefile
          apps/Makefile apps/lib/Makefile apps/obex_test/Makefile
	  apps/ircp/Makefile
	  doc/Makefile doc/Doxyfile
	  udev/Makefile udev/openobex.rules
	  openobex.pc openobex-glib.pc)
